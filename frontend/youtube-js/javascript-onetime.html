<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

    <div class="container">
        <div>이름 : <input type="text" id="name" /></div>
        <div>지역 : 
            <select id="city" onchange="changeCity();">
                <!-- <option value="02" selected>서울</option>
                <option value="064">제주</option> -->
            </select>
        </div>
        <div>
            동네: 
            <select id="region_02">
                <option value="">강남</option>
                <option value="">구로</option>
                <option value="">금천</option>
            </select>
            <select id="region_064" style="display: none;">
                <option value="">제주시</option>
                <option value="">서귀포시</option>
                <option value="">제주공항</option>
            </select>
        </div>
        <button type="button" onclick="regist();">등록</button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
     integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" 
     integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" 
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

    <!-- 웹브라우저 엔진이 위에서부터 해석, 스크립트 양이 많아지면 화면 열리는게 느리게 느껴질 수 있음 -> UX -->
    <script>
        function regist() {
            alert(document.getElementById("name").value);

            // 오브젝트, 서버에게 한번에 여러 데이터를 넘겨줄 수 있음
            // let obj = {};
            let obj = {
                name: "",
                city: ""
            };

            obj.name = document.getElementById("name").value;
            obj.city = document.getElementById("city").value;

            console.log(obj);
            console.log(obj.name);
        }

        function loadCity() {
            let city = [
                {code: "02", name: "서울"},
                {code: "064", name: "제주"}
            ];

            for (let i = 0; i < city.length; i++) {
                if (i == 0) {
                    $("#city").append('<option value="' + city[i].code + '" selected>' + city[i].name + '</option>');
                } else {
                    $("#city").append('<option value="' + city[i].code + '">' + city[i].name + '</option>');
                }
            }

            //<option value="02" selected>서울</option>
            //<option value="064">제주</option>

            // $("#city").append('<option value="02" selected>서울</option>');
            // $("#city").append('<option value="064">제주</option>');
        }

        loadCity();

        function changeCity() {
            let city = document.getElementById("city").value;
            document.getElementById("region_02").style.display = "none";
            document.getElementById("region_064").style.display = "none";
            document.getElementById("region_" + city).style.display = "";

        }
    </script>
</body>
</html>