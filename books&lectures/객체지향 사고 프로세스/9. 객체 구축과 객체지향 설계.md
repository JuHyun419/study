## 9. 객체 구축과 객체지향 설계

### 합성 관계
  - 상속 관계는 is-a 관계, 합성 관계는 has-a 로 표시됨
  - 합성을 사용하는 이유는 더 단순한 부품(component)를 하나로 묶어서 시스템을 구축할 수 있기 때문
  - 보통 사람은 개념을 추상적으로 다루기를 좋아함
  - 운전대와 네 개의 바퀴와 엔진을 갖춘 대형 장치? (x)
  - 자동차가 있음 (o) -> **추상화**

<br>

### 단계적으로 구축하기
  - 합성의 또다른 이점은 시스템과 자식 시스템을 독립적으로 구축할 수 있음
  - 또한 독립적으로 테스트하고 유지보수가 가능함
  - 안정적인 시스템이란 ?(노벨상 수상자인 허버트 사이먼)
    - "복잡하지만 안정된 시스템은 보통 위계구조라는 형태를 취하는데, 각 시스템은 더 단순한 하부 시스템을 사용해 구축되며, 각 하부 시스템은 더 단순한 하부 시스템으로부터 구축됨"
    - "안정적이면서도 복잡한 시스템은 거의 다 분해해 볼 수 있다."
    - "복잡하지만 안정된 시스템은 거의 항상 서로 다른 조합으로 배열된 몇 가지 종류의 자식 시스템으로만 합성됨"
    - "작동 중인 안정 시스템은 거의 항상 작동해 왔던 단순한 시스템에서 발전했다." 
  - 자바 애플리케이션을 배포 후 특정 클래스 파일만 다시 작성한다면, 그 파일만 배포하면 됨
  - 만약 모든 코드가 단일 파일에 존재한다면, 애플리케이션 전체를 배포해야 함
  
<br>

### 합성 유형
  - 결합(association)과 응집(aggregation) 이라는 두 가지 유형의 합성 방식이 존재함
  - 두 방식 모두 객체간의 **협업 관계**를 나타냄
  
### 응집
  - 응집은 복합 객체가 그 밖의 객체들로 구성되어 있음을 의미함
    - ex) HDTV는 단일한 장치로 되어 있음
  - 자동차는 전체적으로 복잡하고 그 밖의 단순한 객체들을 많이 사용해 이룬 복합 객체이다.
  
  <img width="630" alt="OOP-Process-Capture2" src="https://user-images.githubusercontent.com/50076031/105618800-c580ef00-5e2e-11eb-84a2-645465554bdf.PNG">

<br>

### 결합
  - 응집은 일반적으로 전체만 보는 관계를 나타낸 반면, 결합은 전체와 부분 모두를 나타낸다.
  - 컴퓨터 시스템 - 전체
  - 모니터, 키보드, 마우스 등의 기본 상자 - 컴포넌트(별도의 객체)
  
<br>

### 의존체 회피하기
  - 합성을 사용할 때 서로 의존하지 않게 하는 편이 바람직함
  - 특정 상황을 제외하고 한 도메인의 객체를 다른 도메인의 객체와 섞어서는 안되는게 베스트

### 카디널리티
  - 카디널리티(cardinality)는 결합에 참여하는 객체 수와 참여가 선택적인지, 필수인지 여부
  - 카디널리티를 결정하기 위해 다음과 같은 질문을 던짐
    - 어떤 객체가 그 밖의 객체들과 협업하는가?
    - 각 협업에 몇 개의 객체가 참여하는가?
    - 협업은 선택 사항인가, 필수인가?
  - Person에서 상속받고 다음 예에 나오는 클래스들과 관계가 있는 Employee 클래스를 만든다
    - Division
    - JobDescription
    - Spouse
    - Child
    
  - Division
    - 직원이 근무하는 부서 정보
    - 직원은 부서를 위해 일하므로 필수
    - 직원은 한 개 부서에서만 근무함
  - JobDescription
    - 직무에 대한 설명
    - 각 직원은 직무 기술서를 가지고 있으므로 필수
    - 한 직원이 여러 다양한 일을 맡을 수 있음
  - Spouse
    - 기념일이 포함됨
    - 결혼했거나, 하지 않았거나 등의 선택 사항
  - Child
    - 직원은 자녀가 있을수도, 없을수도 있음
    - 자녀가 한명이어야 한다는 이유는 없고, 여러명이 존재할 수 있음\
    
|선택적 / 결합|카디널리티|필수 여부|
|:---|:---|:---|
|Employee/Division|1|필수|
|Employee/JobDescription|1 .. n|필수|
|Employee/Spouse|0 .. 1|선택|    
|Employee/Child|0 .. n|선택|    

<br>

### 결론
  - 상속이라는 관계로는 새 객체가 기존 객체의 새로운 종류임을 나타내는 반면, 합성이라는 관계로는 다양한 객체 간의 상호 작용을 나타냄
  
