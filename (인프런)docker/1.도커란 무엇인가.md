## 1. 도커란 무엇인가
  - 도커는 컨테이너 기반의 오픈소스 가상화 플랫폼
  - 다른 도구와 마찬가지로 **어떤 문제**를 해결하기 위해 만들어졌고,
  - 그 방법이 많은 사람들에게 인기를 끌며 널리 사용됨
-----------------------------

### *목차*
  - [서버를 관리한다는 것](#서버를-관리한다는-것)
  - [도커 컨테이너 생성 데모](#도커-컨테이너-생성-데모)
  - [서버관리 방식의 변화](#서버관리-방식의-변화)
  - [도커의 등장](#도커의-등장)
  - [도커란](#도커란)
  - [도커의 미래](#도커의-미래)


<br>

### *서버를 관리한다는 것*
  - 내부는 복잡한 환경
  - 계속해서 바뀌는 서버 환경 😨
    - AWS -> Azure -> Google Cloud 사용 변화
  - 계속해서 바뀌는 개발 환경 😱
    - Node.js -> Python -> Ruby 사용 변화
  - 도커가 등장하고 서버관리/개발 방식이 **완전히** 바뀌게 됨
<br><br>  
  
  
### *도커 컨테이너 생성 데모*
  - 도커를 이용해 Jenkins 실행 --- docker-compose up
  - 도커를 이용해 워드프레스 실행 예시
  - docker-compose up rocketchat 실행 예시
    - 한 서버에서 동일한 역할을 하는 프로그램을 뛰운다는게 쉽지않음
<br><br>    
    
    
### *서버관리 방식의 변화*

**기존 방식**  
<img width="441" alt="서버관리 방식 변화 캡쳐1" src="https://user-images.githubusercontent.com/50076031/103397063-dfa21700-4b79-11eb-91a5-6655c548f697.PNG">

**도커(컨테이너) 방식**  
<img width="436" alt="서버관리 방식 변화 캡쳐2" src="https://user-images.githubusercontent.com/50076031/103397092-11b37900-4b7a-11eb-84f3-af3cffaedbcf.PNG">

  - 어디서든 컨테이너를 실행할 수 있음
  - 가상머신처럼 독립적으로 실행되지만,
  - 가상머신보다 빠르고
  - 가상머신보다 쉽고
  - 가상머신보다 효율적  
<br><br>  

  
### *도커의 등장*

<img width="439" alt="도커의 등장 1" src="https://user-images.githubusercontent.com/50076031/103397519-1aa54a00-4b7c-11eb-9580-835047657db7.PNG">
<img width="439" alt="도커의 등장 2" src="https://user-images.githubusercontent.com/50076031/103397523-1bd67700-4b7c-11eb-8837-7b35a6009896.PNG">

도커가 등장하기 전, Python의 버전 변경이나 Package의 변경으로 인해 현재 프로그램과의 충돌은 나지 않을지 등등.. 무서웠음

그래서 도커는 어떻게 등장하게 되었을까?
  - **서버의 상태** 를 관리하기 위한 노오오오오력
  
첫 번째 시도.
  - 서버배포.pptx(문서화)
  - 상태 관리도구(CHEF, ANSIBLE 등)
  - 가상 머신
  - 자원격리(가상으로 분리)
  

하지만 도커는, 위와 같은 상황의 어렵고 복잡한 기술을 사용하기 쉽게!
  - 2013년 DotCloud(현 Docker)에서 첫 공개
  - 컨테이너: 격리된 환경에서 작동하는 프로세스
  - 리눅스 커널의 여러 기술을 활용
  - 하드웨어 가상화 기술보다 가벼움
  - 이미지 단위로 프로세스 실행 환경을 구성
<br><br>
  
  
### *도커란*
  - 확장성
    - 도커가 설치되어 있으면 어디서든 컨테이너를 실행할 수 있음
    - 특정 회사나 서비스에 종속적이지 않음
    - 쉽게 개발서버를 만들 수 있고 테스트서버 생성도 간편함
  
  - 표준성
    - 도커를 사용하지 않는 경우 ruby, nodejs, go 등으로 만든 서비스의 배포 방식은 각각 다름
    - 컨테이너라는 표준으로 서버를 배포하므로 모든 서비스들의 배포과정이 동일해짐
    
  - 이미지
    - 이미지에서 컨테이너를 생성하기 때문에 반드시 이미지를 만드는 과정이 필요
    - Dockerfile을 이용하여 이미지를 만들고 처음부터 재현 가능
    - 빌드 서버에서 이미지를 만들면 해당 이미지를 이미지 저장소에 저장하고 운영서버에서 이미지를 불러옴
    
  - 설정관리
    - 설정은 보통 환경변수로 제어함
    - MYSQL_PASS=password 와 같이 컨테이너를 띄울때 환경변수를 같이 지정
    - 하나의 이미지가 환경변수에 따라 동적으로 설정파일을 생성하도록 만들어져야함
    
  - 자원관리
    - 컨테이너는 삭제 후 새로 만들면 모든 데이터가 초기화됨
    - 업로드 파일을 외부 스토리지와 링크하여 사용하거나 S3같은 별도의 저장소가 필요
    - 세션이나 캐시를 memcached나 redis와 같은 외부로 분리
    
  - 도커가 가져온 변화
    - 클라우드 이미지보다 관리하기 쉬움
    - 다른 프로세스와 격리되어 가상머신처럼 사용하지만 성능저하가 거의 없음
    - 복잡한 기술(cgroups, namespace, network...) 등을 몰라도 사용할 수 있음
    - 이미지 빌드 기록이 남음
    - 코드와 설정으로 관리 > 재현 및 수정이 가능함
    - 오픈소스 > 특정 회사 기술에 종속적이지 않음
    
<br><br>
  
  
### *도커의 미래*
#### ~도커~(컨테이너)
#### 여러대의 서버와 여러개의 서비스를 관리하기 쉽게 !!!
  - 스케줄링
    - 컨테이너를 적당한 서버에 배포해 주는 작업
    - 여러 대의 서버 중 가장 할일 없는 서버에 배포하거나 그냥 차례대로 배포 또는 아예 랜덤하게 배포
    - 컨테이너 개수를 여러 개로 늘리면 적당히 나눠서 배포하고 서버가 죽으면 실행 중이던 컨테이너를 다른 서버에 띄워줌

  - 클러스터링
    - 여러 개의 서버를 하나의 서버처럼 사용
    - 작게는 몇 개 안되는 서버부터 많게는 수천 대의 서버를 하나의 클러스터로
    - 여기저기 흩어져 있는 컨테이너도 가상 네트워크를 이용하여 마치 같은 서버에 있는 것처럼 쉽게 통신
    
  - 서비스 디스커버리
    - 서비스를 찾아주는 기능
    - 클러스터 환경에서 컨테이너는 어느 서버에 생성될지 알 수 없고 다른 서버로 이동할 수도 있음
    - 따라서 컨테이너와 통신을 하기 위해 어느 서버에서 실행중인지 알아야 함
    - 컨테이너가 생성되고 중지될 때 어딘가에 IP와 Port같은 정보를 업데이트 해줘야 함
    - Key-Value 스토리지에 정보를 저장할 수 있고 내부 DNS 

